{"identifier":"02c10868-92de-4b11-81cd-1f2356d43caf","name":"Copy of stopAfterDistanceFinal","summary":"","data":"14;const RED = {r:244.83333333333334,g:44.5,b:45.5};const GREEN = {r:77.1830985915493,g:223.53521126760563,b:184.50704225352112};const BLUE = {r:0.0,g:222.30434782608697,b:255.0};const YELLOW = {r:255.0,g:233.46153846153845,b:66.53846153846153};const TOLERANCE = 30;\n// Code here\nconst SPEED = 45;\nconst NULLCOLOR = { r: 0, g: 0, b: 0 };\n\nasync function startProgram() {\n\t// Start of the program\n\t\n\tsetHeading(-90);\n\t\n\tresetAim();\n\t\n\tlet origin = getLocation();\n\t\n\tsetMainLed(NULLCOLOR);\n\t\n\tlet currentAngle = 0;\n\tlet last = getElapsedTime();\n\t\n\t// Red loop\n\t// Distance should be 41\n\twhile (getLocation().y - origin.y < 40) {\n\t\tsetMainLed(RED);\n\t\tsetSpeed(SPEED);\n\t\t\n\t\tawait delay(0.1);\n\t\t\n\t\tif (getElapsedTime() - last < 1) continue;\n\t\tif (getElapsedTime() - last >= 1 && !alike(getOrientation().yaw, currentAngle, 0.5)) {\n\t\t\tstopRoll();\n\t\t\tawait spin(currentAngle - getOrientation().yaw, 1);\n\t\t\tlast = getElapsedTime();\n\t\t}\n\t}\n\t\n\tstopRoll();\n\torigin = getLocation();\n\tawait onRed();\n\tcurrentAngle = -90;\n\tsetHeading(-currentAngle);\n\n\t\n\t// Blue loop\n\twhile (getLocation().x - origin.x < 117) {\n\t\tsetMainLed(BLUE);\n\t\tsetSpeed(SPEED);\n\t\t\n\t\tawait delay(0.1);\n\t\t\n\t\t\n\t\tif (getElapsedTime() - last < 1) continue;\n\t\tif (getElapsedTime() - last >= 1 && !alike(getOrientation().yaw, currentAngle, 0.5)) {\n\t\t\tstopRoll();\n\t\t\tawait spin(currentAngle - getOrientation().yaw, 1);\n\t\t\tlast = getElapsedTime();\n\t\t}\n\t}\n\t\n\t// If bot has gone too far, try to recover\n\tstopRoll();\n\torigin = getLocation();\n\tawait onBlue();\n\tcurrentAngle = 0;\n\tsetHeading(-currentAngle);\n\t\n\t\n\tsetMainLed(YELLOW);\n\t//await rawMotor(SPEED / 2, SPEED / 2, 1.5);\n\tsetSpeed(SPEED / 2);\n\tawait delay(1.5);\n\tstopRoll();\n\t\n\t// await rollToDistance(getHeading(), SPEED * 3, 600);\n\t// await rawMotor(SPEED * 3, SPEED * 3, 4.2); \n\tsetSpeed(SPEED * 3);\n\tawait delay(4.2);\n\tstopRoll();\n\t\n\t\n\t\n\t// Yellow loop\n\twhile (getLocation().y - origin.y < 608) {\n\t\tsetMainLed(YELLOW);\n\t\tsetSpeed(SPEED);\n\t\t\n\t\tawait delay(0.1);\n\t\t\n\t\tif (getElapsedTime() - last >= 1 && !alike(getOrientation().yaw, currentAngle, 0.5)) {\n\t\t\tstopRoll();\n\t\t\tawait spin(currentAngle - getOrientation().yaw, 1);\n\t\t\tlast = getElapsedTime();\n\t\t}\n\t}\n\t\n\tstopRoll();\n\tawait onYellow();\n\tcurrentAngle = 90;\n\tsetHeading(-currentAngle);\n\t\n\n\t// Drive into lot\n\t// await rawMotor(SPEED * 3, SPEED * 3, 1); \n\tsetSpeed(SPEED * 3);\n\tawait delay(1);\n\tstopRoll();\n\treturn;\n}\n\n\nfunction alike(compareTo, compareNum, tolerance) {\n\treturn (compareTo - tolerance <= compareNum) && (compareTo + tolerance >= compareNum);\n}\n\n\nasync function onRed() {\n\tawait spin(90, 2);\n\t// await rawMotor(SPEED * 2, SPEED * 2, 0.7); \n\treturn;\n}\n\n\nasync function onBlue() {\n\tawait spin(-90, 2);\n\t// await rawMotor(SPEED * 2, SPEED * 2, 0.7); \n\treturn;\n}\n\n\nasync function onYellow() {\n\tawait spin(-90, 2);\n\t// await rawMotor(SPEED * 2, SPEED * 2, 0.7); \n\treturn;\n}\n\nasync function adjustDir(axis, intendedAmount) {\n\t\n}\n// Code end here","modified_on":"2024-11-09T09:58:39.2122000-06:00","program_type":"text","robots":[{"id":18}]}