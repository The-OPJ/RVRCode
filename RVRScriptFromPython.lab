{"identifier":"3cbc8719-b072-4f4f-84c4-3b4aa38d4b9a","name":"AVR Python Test","summary":"","data":"14;const RED = {r:179.06451612903226,g:0.0,b:1.903225806451613};const GREEN = null;const BLUE = {r:129.75,g:240.75,b:255.0};const YELLOW = {r:255.0,g:250.6,b:63.6};const TOLERANCE = 30;\nconst SPEED = 27;\nconst NULLCOLOR = { r: 0, g: 0, b: 0 };\n\nasync function startProgram() {\n\t// Start of the program\n\n\tsetMainLed(NULLCOLOR);\n\n\tconst redAction = onRed;\n\tconst blueAction = onBlue;\n\tconst yellowAction = onYellow;\n\n\t// Red loop\n\twhile (true) {\n\t\tawait delay(0.0001);\n\n\t\tsetMainLed(RED);\n\t\tsetSpeed(SPEED);\n\n\t\tif (likeColor(RED)) {\n\t\t\t// If red is detected\n\t\t\tstopRoll();\n\t\t\tawait redAction();\n\t\t\tbreak;\n\t\t}\n\t}\n\n\tsetMainLed(NULLCOLOR);\n\n\t// Blue loop\n\twhile (true) {\n\t\tawait delay(0.0001);\n\n\t\tsetMainLed(BLUE);\n\t\tsetSpeed(SPEED);\n\n\t\tif (likeColor(BLUE)) {\n\t\t\t// If blue is detected\n\t\t\tstopRoll();\n\t\t\tawait blueAction();\n\t\t\tbreak;\n\t\t}\n\t}\n\n\tsetMainLed(NULLCOLOR);\n\tsetSpeed(SPEED * 5);\n\tawait delay(5);\n\t\n\n\t// Yellow loop\n\twhile (true) {\n\t\tawait delay(0.0001);\n\n\t\tsetMainLed(YELLOW);\n\t\tsetSpeed(SPEED);\n\n\t\tif (likeColor(YELLOW)) {\n\t\t\t// If yellow is detected\n\t\t\tstopRoll();\n\t\t\tawait yellowAction();\n\t\t\tbreak;\n\t\t}\n\t}\n\n\tsetMainLed(NULLCOLOR);\n\n\t// Drive into lot\n\tawait rawMotor(SPEED * 2, SPEED * 2, 3); \n}\n\n\nfunction likeColor(compareColor) {\n\tconst seen = getColor();\n\treturn (alike(compareColor.r, seen.r) && alike(compareColor.g, seen.g) && alike(compareColor.b, seen.b));\n}\n\n\nfunction alike(compareTo, compareNum) {\n\treturn (compareTo - TOLERANCE <= compareNum) && (compareTo + TOLERANCE >= compareNum);\n}\n\n\nasync function onRed() {\n\t// await roll(90, SPEED, 1);\n\tawait spin(90, 2);\n\tawait rawMotor(SPEED * 2, SPEED * 2, 0.7); \n\treturn;\n}\n\n\nasync function onBlue() {\n\tawait spin(-90, 2);\n\tawait rawMotor(SPEED * 2, SPEED * 2, 0.7); \n\treturn;\n}\n\n\nasync function onYellow() {\n\t// await rollToDistance(270, SPEED, 100);\n\tawait spin(-90, 2);\n\tawait rawMotor(SPEED * 2, SPEED * 2, 0.7); \n\treturn;\n}\n","modified_on":"2024-09-21T12:36:10.4375000-05:00","program_type":"text","robots":[{"id":18}]}